<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CodeLab Solutions</title>
    <!-- website icon -->
    <link rel="icon" href="{{ url_for('static', filename='icon.ico') }}" type="image/x-icon">
    <!-- Folha de estilo (main.css) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <!-- Bootstrap JQuery -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
    <!-- Bootstrap 4 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/lux/bootstrap.min.css" integrity="sha384-9+PGKSqjRdkeAU7Eu4nkJU8RFaH8ace8HGXnkiKMP9I9Te0GJ4/km3L1Z8tXigpG" crossorigin="anonymous">
    <!-- Intl Tel Input CSS-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/css/intlTelInput.min.css">
    <!-- Intl Tel Input -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/js/intlTelInput.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var phoneNumberInput = document.getElementById("phoneNumberInput");
            var iti = window.intlTelInput(phoneNumberInput, {
                separateDialCode: true,
                preferredCountries: ["pt", "gb", "us"],
                autoPlaceholder: "aggressive",
                utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/js/utils.js"
            });

            // Handle form submission
            var form = document.querySelector("form");
            form.addEventListener("submit", function (event) {
                // Set the value of the hidden input field with the formatted phone number
                formattedPhoneNumberInput.value = iti.getNumber();
            });
        });
    </script>
</head>
<body style="overflow: auto; height: 100vh">
    <main class="container p-4">
        <h1 class="display-2 text-center mt-4">CodeLab Solutions</h1>
    </main>
    <div class="text-center"><p>Please fill in the registration form below.</p></div>
<div class="px-4">
    <div class="card mx-auto" style="min-width: 600px; max-width: 600px; width: 100%;">
        <div class="card-header">
            <form action="/register" method="POST">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <input type="text" name="name" placeholder="Name" class="form-control" autofocus>
                    </div>
                    <div class="form-group col-md-6">
                        <input type="text" name="surname" placeholder="Surname" class="form-control" autofocus>
                    </div>
                </div>
                <!-- Phone Number -->
                <div class="form-group">
                    <input type="tel" id="phoneNumberInput" class="form-control" style="width: 558px">
                </div>
                <div class="form-group">
                    <input type="text" name="username" placeholder="Username" class="form-control" autofocus>
                </div>
                <div class="form-group">
                    <input type="text" name="email" placeholder="Email Address" class="form-control" autofocus>
                </div>
                <div class="form-group">
                    <input type="password" name="password" placeholder="Password" class="form-control" autofocus>
                </div>
                {% if error %}
                <div id="error-message" class="text-center text-danger mt-3"><p>{{ error }}</p></div>
                {% endif %}
                <!-- Handles sending the Phone Number to the DB -->
                <input type="hidden" name="phone_number" id="formattedPhoneNumberInput">
                <button type="submit" class="btn btn-primary btn-block">
                    Sign Up
                </button>
            </form>
        </div>
        <div class="card-footer">
            <p class="text-center">Already have an account? <a href="/">Click here to login</a></p>
        </div>
    </div>
</div>
</body>
</html>